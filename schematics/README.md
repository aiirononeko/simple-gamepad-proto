# Simple Gamepad 回路図

## 概要

Raspberry Pi Pico を使用したゲームパッドの配線図です。
ABXYボタンと十字キー（D-pad）を2×2マトリクス配線で実装しています。

## 部品リスト

| 部品 | 数量 | 備考 |
|------|------|------|
| Raspberry Pi Pico | 1 | |
| タクトスイッチ（2ピン）| 8 | A/B/X/Yボタン用×4、D-pad用×4 |
| ダイオード (1N4148) | 8 | ゴーストキー防止用 |
| I2C LCD モジュール (20x4) | 1 | PCF8574搭載、アドレス0x27 |
| ジャンパワイヤ | 適量 | |
| ブレッドボード | 1 | |

## ピン配置

### ABXYボタン

| 役割 | GPIO | ピン番号 | 説明 |
|------|------|----------|------|
| ROW0 | GP14 | 19 | Yボタン・Bボタン用（出力） |
| ROW1 | GP15 | 20 | Xボタン・Aボタン用（出力） |
| COL0 | GP16 | 21 | Yボタン・Xボタン用（入力） |
| COL1 | GP17 | 22 | Bボタン・Aボタン用（入力） |

### D-pad（十字キー）

| 役割 | GPIO | ピン番号 | 説明 |
|------|------|----------|------|
| DPAD_ROW0 | GP18 | 24 | 上・右ボタン用（出力） |
| DPAD_ROW1 | GP19 | 25 | 左・下ボタン用（出力） |
| DPAD_COL0 | GP20 | 26 | 上・左ボタン用（入力） |
| DPAD_COL1 | GP21 | 27 | 右・下ボタン用（入力） |

### I2C

| 役割 | GPIO | ピン番号 | 説明 |
|------|------|----------|------|
| I2C SDA | GP4 | 6 | LCD用 |
| I2C SCL | GP5 | 7 | LCD用 |

## ボタン配置

```
【D-pad】          【ABXYボタン（Xbox配置）】
   [↑]                    [Y]
[←]   [→]             [X]   [B]
   [↓]                    [A]
```

## マトリクス構成

### ABXYボタン

```
              COL0(GP16)    COL1(GP17)
                  │             │
ROW0(GP14) ───[Y]─┼─────────[B]─┼───
                  │             │
ROW1(GP15) ───[X]─┼─────────[A]─┼───
                  │             │
```

### D-pad

```
                  COL0(GP20)    COL1(GP21)
                      │             │
DPAD_ROW0(GP18) ──[↑]─┼─────────[→]─┼───
                      │             │
DPAD_ROW1(GP19) ──[←]─┼─────────[↓]─┼───
                      │             │
```

## 配線図

### ABXYボタン

```
  GP14(ROW0) ──[ダイオード帯側]──[スイッチ]── GP16(COL0)  → Yボタン
  GP14(ROW0) ──[ダイオード帯側]──[スイッチ]── GP17(COL1)  → Bボタン
  GP15(ROW1) ──[ダイオード帯側]──[スイッチ]── GP16(COL0)  → Xボタン
  GP15(ROW1) ──[ダイオード帯側]──[スイッチ]── GP17(COL1)  → Aボタン
```

### D-pad

```
  GP18(DPAD_ROW0) ──[ダイオード帯側]──[スイッチ]── GP20(DPAD_COL0)  → 上ボタン
  GP18(DPAD_ROW0) ──[ダイオード帯側]──[スイッチ]── GP21(DPAD_COL1)  → 右ボタン
  GP19(DPAD_ROW1) ──[ダイオード帯側]──[スイッチ]── GP20(DPAD_COL0)  → 左ボタン
  GP19(DPAD_ROW1) ──[ダイオード帯側]──[スイッチ]── GP21(DPAD_COL1)  → 下ボタン
```

## I2C LCD

```
LCD GND ── Pico GND
LCD VCC ── Pico VBUS (5V)
LCD SDA ── Pico GP4
LCD SCL ── Pico GP5
```

## 注意事項

1. **ダイオードの向き**: 帯（カソード）をROW側に接続
2. **ABXYのROWグループ**: YとB、XとAでグループ分け
3. **D-padのROWグループ**: 上と右、左と下でグループ分け
4. **COLはプルアップ**: 内部プルアップを使用

